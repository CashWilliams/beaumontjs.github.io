<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>beaumont.js | Using Lets Encrypt For Free SSLs!</title>
    <link rel="stylesheet" href="/css/fonts.css">
    <link rel="stylesheet" href="/css/style.css">
   </head>
   <body>
      <header>
        <a href="http://www.beaumontjs.org"><svg viewbox="0 0 407.6 75.9" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px">
        <path d="M11.2,19.2c2.9-4.7,7.1-7,12.6-7c11.8,0.4,17.7,8.3,17.7,23.7c0,15.1-6.9,22.7-20.7,22.9 C7,58.9,0,52.2,0,38.6V0h5.6c3.7,0,5.5,2,5.5,5.7V19.2z M13.3,36c-0.1,9,2.9,13.5,9.3,13.5c6.4,0,9.6-4.5,9.6-13.5 c-0.3-8.6-3.4-12.8-9.4-12.8S13.6,27.4,13.3,36z" fill="#FFFFFF"></path>
        <path d="M64.4,59.2c-13.4-0.4-20.2-8.2-20.2-23.4c0-15.1,6.8-22.7,20.3-22.8c14.1,0,20.7,8.7,19.9,26H55.7 c0.4,6.8,3.4,10.2,8.8,10.2c2.6,0,5-1.1,7.2-3.2c1-1.1,2.3-1.6,3.8-1.6h8.2C81.3,54,75.3,59.2,64.4,59.2z M55.9,31.1h16.7 c-0.7-5.9-3.4-8.9-8.2-8.9C59.6,22.2,56.7,25.2,55.9,31.1z" fill="#FFFFFF"></path>
        <path d="M99.1,25.3H88c1.3-8.2,7.1-12.3,17.4-12.3c12.3,0,18.5,4,18.7,12.3v15.1c0,12.3-7.4,17.7-19.4,18.6 C94,59.8,86.6,54.9,86.6,45.1c0.3-10.7,8-13.5,19.2-14.6c4.8-0.6,7.2-2,7.2-4.5c-0.3-2.5-2.6-3.8-7.2-3.8 C101.9,22.2,99.7,23.2,99.1,25.3z M113.3,40.9v-4.1c-2.6,1.1-5.6,2-8.9,2.7c-4.5,0.8-6.7,2.9-6.7,6.2c0.3,3.5,2.1,5.2,5.6,5.2 C109.5,50.9,113.3,47.2,113.3,40.9z" fill="#FFFFFF"></path>
        <path d="M164.9,41.4c0,7.6-1.9,12.7-5.9,15.1c-3.9,2.3-8.3,3.4-13.1,3.4c-4.6,0-8.7-1.3-12.6-3.8 c-3.9-2.4-5.8-7.3-5.8-14.8V14.7h11.2v29c0,5,2.5,7.4,7.6,7.4s7.6-2.4,7.6-7.4V20.3c-0.1-3.7,1.7-5.5,5.4-5.5h5.7V41.4z" fill="#FFFFFF"></path>
        <path d="M179.6,28.8v28.4h-11.3V31c0-12.7,6.4-19,19.1-19c5.7,0,10.1,1.3,13.3,3.8c3.2-2.4,7.6-3.6,13.3-3.6 c12.7,0,19,6.3,18.9,19v26.1h-5.8c-3.7-0.3-5.5-2-5.5-5.5V28.9c-0.3-4.6-2.8-6.9-7.7-6.9s-7.5,2.3-7.6,6.9v28.2h-11.3V28.8 c-0.3-4.6-2.8-6.9-7.7-6.9S179.6,24.2,179.6,28.8z" fill="#FFFFFF"></path>
        <path d="M275.9,36.4c0,15.3-6.8,23-20.2,23c-13.4,0-20.2-7.7-20.2-23c0-15.5,6.7-23.1,20.2-23.1 C269.1,13.3,275.9,21,275.9,36.4z M246.8,36.4c0.1,8.7,3,13,8.7,13s8.6-4.5,8.7-13.4c0-8.7-2.9-12.9-8.6-12.9 C249.7,23.1,246.8,27.6,246.8,36.4z" fill="#FFFFFF"></path>
        <path d="M311.3,58.2c-3.7-0.3-5.5-2-5.5-5.5V29.8c-0.3-4.6-2.8-6.9-7.7-6.9s-7.5,2.3-7.6,6.9v28.4h-11.3V32 c0-12.7,6.4-19,19.1-19s18.9,6.3,18.8,19v26.1H311.3z" fill="#FFFFFF"></path>
        <path d="M332.4,22.2h-1.2v24.6c0,1.8,1.1,2.9,3.3,2.9h3.4v8.5c-3.6,0.3-7.6,0.3-11.8-0.1c-4.2-0.4-6.2-3-6.1-8V1.5 h5.8c2.9,0,5.4,2.7,5.4,5.6v7.1h6.7v2.4C338,19.8,335.5,22.2,332.4,22.2z" fill="#FFFFFF"></path>
        <path d="M350.2,49.3v8.8h-9.5v-5.5c0-2.2,1.2-3.3,3.6-3.3H350.2z" fill="#FFFFFF"></path>
        <path d="M349.9,75.9H348v-9.8h2.1c2,0,2.8-1.1,2.8-2.9V13.7h5.8c3.6,0,5.4,1.8,5.4,5.4v45.9 C364.1,73.4,358.8,75.9,349.9,75.9z M358.7,1c3.7,0,5.5,1.8,5.4,5.5v3.3h-11.2V1H358.7z" fill="#FFFFFF"></path>
        <path d="M388.9,50.1c4.7,0,7.1-1.3,7.1-4.2c0-2.3-3.9-4.1-11.5-5.5c-9.8-1.8-14.9-6.1-15-13.1 c0-9.6,7.6-14.1,17.7-14.3c5.7,0,10.2,1.3,13.6,3.8c3.3,2.6,5,6.2,5.3,10.8h-7.1c-2.6-0.1-4.3-1-5-2.8c-0.8-1.9-3-3-6.7-3 c-4.4,0-6.6,1.2-6.6,3.4s2.9,4,8.7,5.1c7.6,1.5,12.5,3.4,15,5.7c2.1,2.2,3.1,4.9,3.1,7.9c0,10.9-8.6,15-20.3,15 c-6.2,0-10.9-1.3-13.9-3.9c-3.4-2.5-5-6.4-5-11.5h11.4C379.9,48.4,383.5,50.1,388.9,50.1z" fill="#FFFFFF"></path></svg></a>
    </header>
    <main>
      <h1><a id="HTTPS_on_DigitalOcean_for_0_0"></a>HTTPS on DigitalOcean for $0</h1>
      <h3><a id="Creating_Your_Droplet_2"></a>Creating Your Droplet</h3>
      <ol>
         <li>Click “Create Droplet” button</li>
         <li>Click “One-Click Apps” tab</li>
         <li>
            Configure your droplet
            <ul>
               <li>Choose “LAMP on 14.04” (or new version if available) (LAMP is short for Linux, Apache, MySQL, PHP stack)</li>
               <li>Choose your size ($5/mo is enough for a small, simple site)</li>
               <li>Choose DataCenter location (NY3 is default and fine to leave as is)</li>
               <li>If you need additional options, add them</li>
               <li>Pick a name for your droplet</li>
               <li>Click create button</li>
            </ul>
         </li>
      </ol>
      <h3><a id="Configuring_Your_Droplet_14"></a>Configuring Your Droplet</h3>
      <ol>
         <li>From Droplet List page, find your droplet in the list</li>
         <li>Click More &gt; Access Console</li>
         <li>
            When login prompt appears, login
            <ul>
               <li>username: root</li>
               <li>password: check email for default password</li>
            </ul>
         </li>
         <li>You will be forced to reset your password. Follow prompts.</li>
         <li>Run <code>sudo apt-get update</code></li>
         <li>Run <code>sudo apt-get install git</code></li>
      </ol>
      <h3><a id="Setting_Up_Your_Domain_25"></a>Setting Up Your Domain</h3>
      <ol>
         <li>Locate the IP address of your droplet from the Droplet List page</li>
         <li>Navigate to your domain’s registrar to modify the DNS records for your domain</li>
         <li>Add an <code>A Record</code> pointing to this IP address</li>
         <li>Wait for DNS changes to propogate or flush your computer’s DNS cache</li>
      </ol>
      <h3><a id="Setting_Up_A_VHost_32"></a>Setting Up A VHost</h3>
      <ol>
         <li>
            FTP in to your droplet using an FTP client (FileZilla on windows, Transmit on mac)
            <ul>
               <li>host: the IP address of your droplet</li>
               <li>username: root</li>
               <li>password: the password you set for the root account</li>
            </ul>
         </li>
         <li>Navigate to <code>/eetc/apache2/sites-available</code></li>
         <li>
            Clone the following files:
            <ul>
               <li>000-default.conf</li>
               <li>default-ssl.conf</li>
            </ul>
         </li>
         <li>Edit the clone of both files to update the <code>ServerName</code>, <code>ServerAdmin</code>, and <code>DocumentRoot</code> directives. An example:</li>
      </ol>
      <pre><code>    ServerName shaynemartin<span class="hljs-class">.com</span>
    ServerAdmin shayne@shaynemartin<span class="hljs-class">.com</span>
    DocumentRoot /var/www/shaynemartin<span class="hljs-class">.com</span>
    SSLProtocol all -SSLv2 -SSLv3
    Header always set Strict-Transport-Security "max-age=31536000; includeSubdomains"
</code></pre>
      <ol start="5">
         <li>Save both files</li>
         <li>Navigate to the path you set for the DocumentRoot location (in this case <code>/var/www/</code>)</li>
         <li>Create folder to match path (i.e a folder named <code>shaynemartin.com</code>)</li>
         <li>Upload your website files to this folder</li>
         <li>Switch back to your droplet’s console</li>
         <li>Run <code>sudo a2enmod headers</code></li>
         <li>Run <code>sudo a2ensite shaynemartin.com.conf</code> (change name to match your new .conf file)</li>
         <li>Run <code>service apache2 restart</code></li>
      </ol>
      <p>Your website should now be running at your domain under <code>http://</code></p>
      <h3><a id="Configuring_your_SSL_this_is_the_easy_part_58"></a>Configuring your SSL (this is the easy part!)</h3>
      <ol>
         <li>Run <code>sudo git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt</code> to download the letsencrypt client to the server</li>
         <li>Run <code>cd /opt/letsencypt</code> to open the folder you downloaded the client in</li>
         <li>
            Run <code>./letsencrypt-auto --apache -d shaynemartin.com</code> to run the letsencrypt client. Change the domain to the one you are configuring
            <ul>
               <li>Enter your email address</li>
               <li>Agree to the Terms of Service</li>
               <li>
                  Choose Easy or Secure mode. (I recommend Secure)
                  <ul>
                     <li>Easy allows traffic to visit either <code>http://</code> or <code>https://</code></li>
                     <li>Secure redirects all <code>http://</code> traffic to <code>https://</code> - the setup process for you is no different (it is all automated)</li>
                  </ul>
               </li>
            </ul>
         </li>
         <li>Run <code>service apache2 restart</code></li>
      </ol>
      <p>Your website should be running at your domain under <code>https://</code> only!</p>
      </main>
   </body>
</html>